{{ header }}
<div class="">
  <section class="banner_container container-fluid px-0">
    <div id="container" class="bg-cover" style="{{ styles }}"><div id="flag-{{ id }}"></div>
      {% set cols = properties.col?properties.col:1 %}
      {% set space_col = properties.spacingCol!=''?properties.spacingCol:0 %}
      <style>
        .id_{{ id }} {
          --transition: 1.2s cubic-bezier(0.44, 0.82, 0, 1.01);
        }
      </style>
      <div class="overflow-hidden">
        <div class="wow fadeInUp" data-wow-delay="0.3s">
          {% if categories %}
            <div class="swiper swiper_{{ id }} {{ properties.arrowHide?'arrow_hide':'' }}">
              <div class="swiper-wrapper">
                {% for item in categories %}
                  <div class="swiper-slide">
                    <div class="wid_block position-relative overflow-hidden">
                      <div class="wid_img bg-cover {{ item.name or item.description or properties.button?'overlay_gradient':'' }}"  style="background-image: url('{{ item.raw_url }}')" data-swiper-parallax="30%">
                        <span class="embed-responsive embed-responsive-21by9"></span>
                      </div>                     
                    </div>
                  </div>
                {% endfor %}
              </div>
            </div>
          {% endif %}
        </div>
      </div>
      <script>
        $(document).ready(function() {
          var swiper = new Swiper(".swiper_{{ id }}", {
            slidesPerView: 1, spaceBetween: 0,
            // breakpoints: {768: {slidesPerView: 2.5, spaceBetween: 30,}, 1280: {slidesPerView: 3, spaceBetween: 50,},},
            loop: false,
            grabCursor: true,
            freeMode: false,
            parallax: true,
            speed: 1000,
            autoplay: {delay: 3000, disableOnInteraction: false,},
            {% if properties.arrow %}
            navigation: {nextEl: ".swiper-button-next", prevEl: ".swiper-button-prev",},
            {% endif %}
            {% if properties.dot %}
            pagination: {el: ".swiper-pagination", clickable:true, renderBullet: function (index, className){return '<span class="' + className + '"><span>' + (index + 1) + "</span></span>";},},
            {% endif %}
            lazy: {checkInView: false, preloaderClass: 'swiper-lazy-preloader',},
          });
        })
      </script>
    </div>
  </section>
  <section class="product_container container-lg overflow-hidden px-2 px-xl-0 mb-15 mt-10">
    <div class="mb-5 d-flex justify-content-center">
      <h2 class="font-weight-bold text-primary">Sản phẩm</h2>
    </div>
	{% if products %}
		<div class="papular-block overflow-hidden">
			<div class="row bs5">
				{% for item in products %}
					<div class="col-2 wow fadeInUp" data-wow-delay="0.3s">
						<div
							class="wid_block hover-zoom-img wow fadeInUp" data-wow-delay="{{ index*0.2 }}s">
							<!-- Item img -->
							<a {{ item.href?'href="'~item.href~'"':'' }}>
								<div class="wid_img img position-relative">
									{% if item.reduce %}
										<div class="wid_discount position-absolute d-flex justify-content-center align-items-center">
											<span class="align-middle">-{{ item.reduce }}</span>
										</div>
									{% endif %}
									{% if item.stock_status == 'out_of_stock' %}
										<div class="wid_out_stock">Hết hàng</div>
									{% endif %}
									<div class="embed-responsive embed-responsive-{{ properties.imgFrame?properties.imgFrame:'1by1' }} bg-cover lazyload swiper-lazy" data-src="{{ item.raw_url }}" data-background="{{ item.raw_url }}"></div>
								</div>
							</a>
							<!-- Item Name -->
							<div class="wid_info">
								{% if item.category.name %}
									<div class="wid_short_description text-uppercase text-primary mt-3 font-6" style="font-weight: 600">{{ item.category.name }}</div>
								{% endif %}
								{% if item.name %}
									<a href="{{ item.href }}">
										<h5 class="wid_name mt-1 limit-text-2">{{ item.name }}</h5>
									</a>
								{% endif %}
							</div>
							<!-- Price -->
							<div class="wid_price d-flex flex-wrap mt-1 text-left">
								{% if item.special %}
									<del class="price-cost pr-2">{{ item.price?item.price|number_format(0,'.','.') ~ 'đ':text_product_contact }}</del>
									<span class="price-discount">{{ item.special }}</span>
								{% else %}
									<span class="price-discount">{{ item.price?item.price|number_format(0,'.','.') ~ 'đ':text_product_contact }}</span>
								{% endif %}
							</div>
						</div>
					</div>
				{% endfor %}
			</div>
			<div class="d-flex justify-content-center align-items-center">
				{{ pagination }}
			</div>
		</div>
	</div>
  {% endif %}
  </section>
</div>
</div>

{{ footer }}
